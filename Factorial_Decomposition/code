// A C Program written by REDALXA
// Program for decomposing a factorial number into its prime decomposition
// This program works for all integer factorial below 200
#include <stdio.h>

int problem = 0 ; //initialize the problem variable as a global variable
int sentinel = 2 ;

void checkfactor(int k) ;

int main() {
    printf("Welcome to the Integer Factorial Primal Decomposition Program");
    printf("\n\n"); //the welcome screen
    
    while(sentinel != 1) {
        
        printf("Please enter the integer number whose factorial you want to decompose (number must be below 200 : ");
        scanf("%d" , &problem); //user input the integer whose factorial they wish to decompose
        
        if(problem >= 200) {
            printf("It seems the integer that you input is more than 200. Please try again : "); //lol it seems you input more than two hundred lol. try again
            scanf("%d" , &problem) ;
            while(problem >= 200) {
                printf("It seems the integer that you input is more than 200. Please try again : "); //again 
                scanf("%d" , &problem) ;
            }
        }
        
        printf("The integer that you wish to decompose is %d ! . Is this correct? " , problem); //making sure input is correct
        printf("\n");
        printf("Press 1 to confirm and Press 2 to retry : ");
        scanf("%d" , &sentinel) ;
        if(sentinel == 1) {
            printf("\n\n") ;
            printf("Here we start ");
        }
        else {
            printf("\n\n\n");
            printf("Thats fine. Everyone makes mistakes");
            
        }
    }
    checkfactor(problem);

    return 0;
}

void checkfactor(int k) {
    int prime[46] = {2 , 3 , 5 , 7 , 11 , 13 , 17 , 19, 23 , 29 , 31 , 37 , 41 , 43 , 47, 53 , 59 , 61 , 67, 71 , 73, 79 , 83 , 89 , 97 , 101 , 103 , 107 , 109 , 113 , 127, 131 , 137 , 139 , 149 , 151, 157 , 163, 167, 173, 179, 181, 191, 193 , 197, 199} ;
    int counter = 0 ;
    int stop = 0 ;
    int temp = 0 ;
    while (stop == 0) { // start while
        if(k >= prime[counter]) {
            counter = counter + 1 ;
        }
        else {
            stop = 1 ; // while loop only stops when k is smaller than a prime number
        }
    } // end while
    counter = counter - 1 ;
    int store[46][2] ;
    int i = 0 ;
    for(i = 0 ; i <= counter ; i ++) {
    	store[i][0] = prime[i] ;
    	int checker = prime[i] ;
    	while(k/checker > 0) {
    		temp = temp + k /checker ;
    		checker = checker * prime[i] ;
    		}
    	store[i][1] = temp ;
    	temp = 0 ;
    	printf("\n") ;
    	printf(" %d  %d " , store[i][0] , store[i][1]);	
    	}
    
    
    }
